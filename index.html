<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Statsdlog by pandemicsyn</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Statsdlog</h1>
          <h2>Transform syslog events to statsd events </h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/pandemicsyn/statsdlog/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/pandemicsyn/statsdlog/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/pandemicsyn/statsdlog" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>statsdlog</h1>

<p>Simple daemon that consumes a syslog udp stream and generates statsd events when certain log lines are encountered.</p>

<h3>Configuration</h3>

<p>statsdlog sample config:</p>

<pre><code>[main]
#debug = false
#statsd_host = 127.0.0.1
#statsd_port = 8125
#statsd_sample_rate = 1.0
#listen_addr = 127.0.0.1
#listen_port = 8126
#buffer_size = 8192
#max_line_backlog = 512
#report internals stats about statsdlog to statsd
#report_internal_stats = false
# if enabled report internal stats every 5 seconds
#internal_stats_interval = 5
# file that contains your log search patterns and statsd event names
patterns_file = /etc/statsdlog/patterns.json
</code></pre>

<ul>
<li>Copy etc/statsdlog/patterns.json to /etc/statsdlog/patterns.json</li>
<li>Edit patterns.json to include the regex patterns for log lines you want to fire events for.</li>
<li>Copy etc/statsdlog/statsdlog.conf-sample to /etc/statsdlog/statsdlog.conf</li>
<li>Edit the the conf file to point to your statsd host</li>
<li>Point syslog udp stream to 127.0.0.1:8126</li>
<li><code>python bin/statsdlog-server --conf=/etc/statsdlog/statsdlog.conf start</code></li>
<li>Profit!</li>
</ul><p>Its important to note that the first match wins. An event will only be fired for the first match.</p>

<p>The included patterns.json example includes a few patterns for errors commonly encountered when running <a href="http://github.com/openstack/swift">swift</a></p>

<h3>Installing</h3>

<p>via setup.py:</p>

<ul>
<li><code>git clone git://github.com/pandemicsyn/statsdlog.git</code></li>
<li><code>cd statsdlog</code></li>
<li><code>python setup.py install</code></li>
</ul><p>etc/statsdlog/statsdlog.init is available as a simple init script.</p>

<p>via pip (No sample configs or init script. Just the goods!):</p>

<ul>
<li><code>pip install statsdlog</code></li>
</ul><h3>Building packages</h3>

<p>Clone the version you want and build the package with <a href="https://github.com/astraw/stdeb" title="stdeb">stdeb</a> (sudo apt-get install stdeb):</p>

<pre><code>git clone git@github.com:pandemicsyn/statsdlog.git statsdlog-0.0.5
cd statsdlog-0.0.5
git checkout 0.0.5
python setup.py --command-packages=stdeb.command bdist_deb
dpkg -i deb_dist/python-statsdlog_0.0.5-1_all.deb
</code></pre>
        </section>

        <footer>
          Statsdlog is maintained by <a href="https://github.com/pandemicsyn">pandemicsyn</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>